---
layout: post
title: Visualize your Twitter Timeline with jQuery and SIMILE
date: '2009-11-20 06:01:00'
---

<p>Since my last post I wondering if there was a better way to visualize my tweets. The <a href="http://elijahmanor.com/webdevdotnet/post/Twitter-Word-Cloud-Visualization-with-Google-API.aspx" target="_blank">Word Cloud</a> was a nice feature, but I wanted more. I thought about using the Google <a href="http://code.google.com/apis/visualization/documentation/gallery/annotatedtimeline.html" target="_blank">Annotated Time Line</a> chart, but it didn’t quite give me what I was looking for. Well, it turns out there is a really cool JavaScript plug-in called <a href="http://code.google.com/p/simile-widgets/wiki/Timeline" target="_blank">Simile Timeline</a> that provides the functionality I was looking for.</p>  <p>So, I threw the following together to display my tweets. After completing it, I realized how much I actually tweet! A lot of exciting stuff was going on after being on vacation, having <a href="http://microsoftpdc.com/" target="_blank">PDC 2009</a> going on, and watching the <a href="http://www.environmentsforhumans.com/jquery_summit/" target="_blank">jQuery Summit</a>.</p>  <pre><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"<br>  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><br><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><br><head><br>   <title>Visualize your Twitter Timiline with jQuery and SIMILE</title><br>   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript"></script>  <br>   <script src="http://simile.mit.edu/timeline/api/timeline-api.js" type="text/javascript"></script>      <br>   <style type="text/css" media="screen"><br>   body { background-color: #000; font: 14px Helvetica, Arial; color: #fff; }<br>   #my-timeline, #source { margin-top: 15px; }<br>   #criteria, #my-timeline, #source { margin-bottom: 15px; }<br><br>   .timeline-band-layer-inner { font-size: 10px; }<br>   .timeline-event-bubble-title, .timeline-event-bubble-body { color: black; }<br>   .timeline-event-bubble-time { padding-top: 5px; color: #ccccc; font-size: 9px; }<br>   </style>   <br>   <script type="text/javascript">   <br>   $(function() {<br>      $("#my-timeline").hide();<br>      $('#getTwitterTimeline').click(function() {<br>         getTwitterTimeline($('#userName').val());<br>      });<br>   });   <br><br>   var timeLine;<br>   function getTwitterTimeline(userName) {<br>      var eventSource = new Timeline.DefaultEventSource();<br>      var url = 'http://twitter.com/status/user_timeline/' + userName + '.json?count=200&callback=?';       <br>      $.getJSON(url, function(data) { <br>         $("#my-timeline").fadeIn('slow');<br>         var mostRecentTweetDate = new Date(1);<br>         $.each(data, function(i, item) {   <br>            var dateEvent = Date.parse(item.created_at); <br>            mostRecentTweetDate = (dateEvent > mostRecentTweetDate) ? dateEvent : mostRecentTweetDate;<br>            var html = replaceUrlWithHtmlLinks(item.text);<br>            var evt = new Timeline.DefaultEventSource.Event(<br>               new Date(dateEvent), //start<br>               null, //end<br>               null, //latestStart<br>               null, //earliestEnd<br>               true, //instant<br>               item.text.substr(0, 47) + '...', //text<br>               html //description<br>            );<br>            eventSource.add(evt);            <br>         });<br><br>         var bandInfos = [<br>            Timeline.createBandInfo({<br>               trackGap: 0.2,<br>               width: "80%", <br>               intervalUnit: Timeline.DateTime.HOUR, <br>               intervalPixels: 500,<br>               eventSource: eventSource,<br>               timeZone: new Date().getTimezoneOffset() / 60,<br>               date: new Date(mostRecentTweetDate).toGMTString()<br>            }),<br>            Timeline.createBandInfo({<br>               showEventText:  false,<br>               trackHeight: 0.5,<br>               trackGap: 0.2,<br>               width: "20%", <br>               intervalUnit: Timeline.DateTime.DAY, <br>               intervalPixels: 300,<br>               eventSource: eventSource,<br>               timeZone: new Date().getTimezoneOffset() / 60,<br>               date: new Date(mostRecentTweetDate).toGMTString()<br>            })<br>         ];<br><br>         bandInfos[1].syncWith = 0;<br>         bandInfos[1].highlight = true;<br>         timeLine = Timeline.create($("#my-timeline")[0], bandInfos);                  <br>      });<br>   }<br><br>   var resizeTimerID = null;   <br>   $('body').resize(function() {<br>      if (resizeTimerID == null) {<br>         resizeTimerID = window.setTimeout(function() {<br>            resizeTimerID = null;<br>            timeLine.layout();<br>         }, 500);<br>      }<br>   });<br><br>   function replaceUrlWithHtmlLinks(text) {    <br>      var exp = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;    <br>      return text.replace(exp,"<a href='$1'>$1</a>"); <br>   }   <br>   </script><br>   </head><br>   <body><br>      <h3>Visualize your Twitter Timeline with jQuery and SIMILE</h3><br>      <div id="criteria"><br>         <span>Twitter Username: </span><br>         <input id="userName" type="text" value="elijahmanor" /> <br>         <button id="getTwitterTimeline">Twitter Timeline</button><br>      </div><br>      <div id="my-timeline" style="height: 200px;"></div><br>      <a id="source" href="http://jsbin.com/ekimi3/edit" target="_blank">View, Run, & Edit Source Code</a>      <br>   </body><br></html></pre> <p><a href="http://jsbin.com/amavu/edit" target="_blank"><img title="cooltext439924738" border="0" alt="cooltext439924738" src="http://elijahmanor.com/webdevdotnet/image.axd?picture=cooltext439924738_1.png" width="109" height="63"></a> <a href="http://jsbin.com/amavu"><img title="cooltext439924698" border="0" alt="cooltext439924698" src="http://elijahmanor.com/webdevdotnet/image.axd?picture=cooltext439924698_1.png" width="121" height="62"></a> </p> <p><a title="http://jsbin.com/ibivi3/edit" href="http://jsbin.com/ibivi3/edit"> </a></p>