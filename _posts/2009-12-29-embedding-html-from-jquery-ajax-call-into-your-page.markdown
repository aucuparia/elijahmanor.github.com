---
layout: post
title: Embedding HTML from jQuery AJAX Call Into Your Page
date: '2009-12-29 04:49:00'
---

<p>I got an interesting Twitter question the other day and thought I would blog about it to help anyone who has a similar situation.</p>  <h3>Question</h3>  <blockquote>   <p>Hey buddy! How can I do a simple thing as loading a page into a div using Ajax and on the loaded page, execute a simple task as executing a javascript with an alert box?!? The page is loaded but the javascript just doesn't run! If I access the page direct directly, the alert pops out ok! --<a href="http://twitter.com/montedesucata" target="_blank">@montedesucata</a><strong></strong> </p> </blockquote>  <p> </p>  <h3>Scenario 1</h3>  <p>My initial thoughts were that he was trying to put an entire HTML document (pulled back from an AJAX call) inside another HTML document (the document that made the AJAX call). You can't do that because then you’d have two html elements, two head elements, two body elements, etc... in one document. So, my first example was to put the contents into an iFrame.</p>  <p><strong>Note: </strong>You can also, strip out the body content of the returned full HTML document and inject that into your current document, but then you might not have the correct scripts or css files that were included in the head element (or wherever you put those). </p>  <pre><!DOCTYPE html><br><html><br><head><br><meta charset=utf-8 /><br><title>Load Full HTML Document via AJAX into iFrame</title><br>   <meta http-equiv="Content-type" content="text/html; charset=utf-8" /><br>   <style><br>      .dynamicIframe { <br>         display: none; width: 100%; border: none 1px black; <br>      }<br>   </style>   <br>   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script><br>   <script type="text/javascript"><br>   $(function() {<br>      $('#load').click(function() {<br>         $.ajax({<br>            type: "GET",<br>            url: "FullTestHtmlWithAlert.html", <br>            dataType: "html",<br>            success: function(html) {<br>               $("#dynamicContent")<br>                  .contents().find("body")<br>                  .html(html).end().end()<br>                  .fadeIn('slow');               <br>            }<br>         });<br>         return false;<br>      });<br>   });<br>   </script>   <br></head><br><body><br>   <h3>Load Full HTML Document via AJAX into iFrame</h3><br>   <button id="load">Load</button><br/><br>   <iframe id="dynamicContent" class="dynamicIframe"></iframe><br/><br></body><br></html></pre> <p>The contents of the FullTestHtmlWithAlert.html are below…</p> <pre><!-- FullTestPageWithAlert.html --><br><!DOCTYPE html><br><html><br><head><br><meta charset=utf-8 /><br><title>Load Full HTML Document via AJAX into iFrame</title><br>   <meta http-equiv="Content-type" content="text/html; charset=utf-8" /><br>   <script type="text/javascript"><br>      alert('Hello World!');<br>   </script><br></head><br><body><br>   <h3>Hello World From Full Html Document</h3><br></body><br></html></pre> <p>The following is a screenshot of the results after clicking the Load button.</p> <p><a href="http://elijahmanor.com/webdevdotnet/image.axd?picture=LoadFullHtmlDocumentViaAjaxIntoIframe.png"><img title="LoadFullHtmlDocumentViaAjaxIntoIframe" border="0" alt="LoadFullHtmlDocumentViaAjaxIntoIframe" src="http://elijahmanor.com/webdevdotnet/image.axd?picture=LoadFullHtmlDocumentViaAjaxIntoIframe_thumb.png" width="604" height="204"></a></p> <p>Feel free to Demo the above code below... </p> <p><a href="http://elijahmanor.com/demos/EmbeddingHtmlFromJqueryAjaxCallIntoYourPage/LoadFullHtmlDocumentViaAjaxIntoIframe.html" target="_blank"><img title="cooltext439924698" border="0" alt="cooltext439924698" src="http://elijahmanor.com/webdevdotnet/image.axd?picture=cooltext439924698_4.png" width="121" height="62"></a></p> <h3>Scenario 2</h3> <p>The other scenario is that the HTML from the AJAX call is a partial document, meaning that it doesn’t include html, head, body, etc… tags and is just content that might be found in a body tag. This is a simpler case and the results can easily be injected into another DOM element in the document.</p> <pre><!DOCTYPE html><br><html><br><head><br><meta charset=utf-8 /><br><title>Load Full HTML Document via AJAX into iFrame</title><br>   <meta http-equiv="Content-type" content="text/html; charset=utf-8" /><br>   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script><br>   <script type="text/javascript"><br>   $(function() {<br>      $('#load').click(function() {<br>         $.ajax({<br>            type: "GET",<br>            url: "PartialTestHtmlWithAlert.html", <br>            dataType: "html",<br>            success: function(html) {<br>               $('#dynamicContent').html(html)<br>                  .fadeIn('slow');<br>            }<br>         });<br>         return false;<br>      });      <br>   });<br>   </script>   <br></head><br><body><br>   <h3>Load Parital HTML Document via AJAX into Div</h3><br>   <button id="load">Load</button><br/><br>   <div id="dynamicContent" style="display: none;"></div><br></body><br></html></pre> <p>The contents of the PartialTestHtmlWithAlert.html are below…</p> <pre><!-- PartialTestPageWithAlert.html --><br><script type="text/javascript"><br>alert('Hello World!');<br></script><br><table><br>    <tr><br>        <td>1</td><br>        <td>2</td><br>    </tr><br>    <tr><br>        <td>a</td><br>        <td>b</td><br>    </tr><br></table></pre> <p>The following is a screenshot of the results after clicking the Load button.</p> <p><a href="http://elijahmanor.com/webdevdotnet/image.axd?picture=LoadPartialHtmlDocumentViaAjaxIntoDiv.png"><img title="LoadPartialHtmlDocumentViaAjaxIntoDiv" border="0" alt="LoadPartialHtmlDocumentViaAjaxIntoDiv" src="http://elijahmanor.com/webdevdotnet/image.axd?picture=LoadPartialHtmlDocumentViaAjaxIntoDiv_thumb.png" width="604" height="204"></a></p> <p>Feel free to Demo the above code below... </p> <p><a href="http://elijahmanor.com/demos/EmbeddingHtmlFromJqueryAjaxCallIntoYourPage/LoadParitalHtmlDocumentViaAjaxIntoDiv.html" target="_blank"><img title="cooltext439924698" border="0" alt="cooltext439924698" src="http://elijahmanor.com/webdevdotnet/image.axd?picture=cooltext439924698_3.png" width="121" height="62"></a></p>