---
layout: post
title: Using MvcContrib ScriptInclude, Stylesheet, And T4MVC
date: '2009-10-08 13:59:00'
---

<p>I am always looking for more ways I can integrate features of <a href="http://www.codeplex.com/MVCContrib" target="_blank">MVC Contrib</a> into my ASP.NET MVC projects. I also have started using <a href="http://blogs.msdn.com/davidebb/" target="_blank">David Ebbo</a>’s T4MVC Template that generates strongly typed helpers for ASP.NET MVC (<a href="http://aspnet.codeplex.com/Release/ProjectReleases.aspx?ReleaseId=24471" target="_blank">download</a>).</p>  <p>Before I integrated these tools my script and style includes looked like…</p>  <pre><script src="../../Content/Scripts/jquery-1.3.2.min.js" type="text/javascript"></script><br><script src="../../Content/Scripts/jquery-ui-1.7.2.custom.min.js" type="text/javascript"></script><br><br><link href="../../Content/Styles/Site.css" rel="stylesheet" type="text/css" /><br><link href="../../Content/Styles/start/jquery-ui-1.7.2.custom.css" rel="stylesheet" type="text/css" /></pre> <p>I remembered hearing about ScriptInclude and StyleInclude Html Helpers in the MVC Contrib so I updated the above references to the following…</p> <pre><%= Html.ScriptInclude("~/Content/Scripts/jquery-1.3.2.min.js")%><br><%= Html.ScriptInclude("~/Content/Scripts/jquery-ui-1.7.2.custom.min.js")%><br><br><%= Html.Stylesheet("~/Content/Styles/Site.css")%><br><%= Html.Stylesheet("~/Content/Styles/start/jquery-ui-1.7.2.custom.css")%></pre> <p>I was please about using the MVC Contrib Helpers, but I wasn’t thrilled with having hard-coded strings laying around which is where the T4MVC Template comes into play. </p> <p>There are many features of the T4MVC Template (many more than I planned on covering today), but one of them is interrogating your project structure and generating static classes with read-only references to your Scripts, Styles, and Images.</p> <p>So, after running the T4MVC Template, I updated my references to the following…</p> <pre><%= Html.ScriptInclude(Links.Content.Scripts.jquery_1_3_2_min_js)%><br><%= Html.ScriptInclude(Links.Content.Scripts.jquery_ui_1_7_2_custom_min_js)%><br><br><%= Html.Stylesheet(Links.Content.Styles.Site_css)%><br><%= Html.Stylesheet(Links.Content.Styles.start.jquery_ui_1_7_2_custom_css)%></pre> <p>Looks pretty good, doesn't it? Well, there is only one problem… it doesn’t work! Why? Well, the output of the T4MVC Links are relative paths that have been resolved (meaning they no longer have the “~”). The MVC Contrib Helpers assume that if the URL passed it it doesn’t have the “~”, then it will prepend either “~/Scripts/” for scripts or “~/content/css/'” for styles. </p> <p>Seeing that I have moved my scripts, styles, and images under the “~/Content” folder, there are a couple of changes to the MVC Contrib Html Helpers that could make this work… </p> <ol><ol><li>Provide some sort of mechanism to define the paths prepended to the Scripts and Styles if there is no “~” </li>     <li>Override the Html Helpers with another option to not prepend any path information </li>     <li>Possibly search for the “/” instead of the “~” when determining if a path should be prepended to the URL </li>  </ol>Can you think of any other solutions to get these to play well together?</ol>