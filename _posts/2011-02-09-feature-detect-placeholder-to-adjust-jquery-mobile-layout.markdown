---
layout: post
title: Feature Detect Placeholder to Adjust jQuery Mobile Layout
date: '2011-02-09 13:47:00'
---

If you take a look at most of the <a href="http://jquerymobile.com/demos/1.0a3/#docs/forms/forms-all.html">jQuery Mobile Documentation</a> you will see heavy use of labels and input elements inside of a <code>fieldcontain</code> data-role. The great thing about this technique is that it looks good on portrait layouts (labels on top & input on bottom) and also adjusts for landscape layouts (labels on the left & input on the right).<br><br><a href="http://1.bp.blogspot.com/_L6DiZQsfJzs/TVIB4TmNvcI/AAAAAAAAJXA/dAj0eGNBP4Y/s1600/photo+%25285%2529.PNG" imageanchor="1"><img border="0" height="320" src="http://1.bp.blogspot.com/_L6DiZQsfJzs/TVIB4TmNvcI/AAAAAAAAJXA/dAj0eGNBP4Y/s320/photo+%25285%2529.PNG" width="213"></a><a href="http://4.bp.blogspot.com/_L6DiZQsfJzs/TVICABwjJmI/AAAAAAAAJXE/Cw0Tt4usI48/s1600/photo+%25286%2529.PNG" imageanchor="1"><img border="0" height="213" src="http://4.bp.blogspot.com/_L6DiZQsfJzs/TVICABwjJmI/AAAAAAAAJXE/Cw0Tt4usI48/s320/photo+%25286%2529.PNG" width="320"></a><br><div></div><br>The HTML to generate the above screenshots can be found in the following markup.<br><br><pre> <br><div data-role="page" id="login"><br><br>  <div data-role="header"><br>    <h1>Acme Corporation</h1><br>  </div><br><br>  <div data-role="content"><br>    <form id="frmLogin" class="validate"><br>      <div data-role="fieldcontain"><br>        <label for="email">Email: </label><br>        <input type="text" id="email" <br>          name="email" class="required email" /><br>      </div><br><br>      <div data-role="fieldcontain"><br>        <label for="password">Password: </label><br>        <input type="password" id="password" <br>          name="password" class="required" /><br>      </div><br><br>      <div class="ui-body ui-body-b"><br>        <fieldset class="ui-grid-a"><br>          <div class="ui-block-a"><br>            <button id="btnCancel" data-theme="d" <br>              data-icon="delete">Cancel</button><br>          </div><br>          <div class="ui-block-b"><br>            <button id="btnLogin" type="submit" <br>              data-theme="a" data-icon="check"><br>                Log In<br>            </button>       <br>          </div><br>        </fieldset><br>      </div><br>    </form><br><br>  </div><br><br></div><br></pre><br>I recently did a mock-up for a client using this technique, but they wanted to use the HTML5 form <code>placeholder</code> technique instead. I told the client that this was possible, but mentioned that not all browsers support this technique.<br><br>So, I decided to use a <a href="http://en.wikipedia.org/wiki/Progressive_enhancement">Progressive Enhancement</a> approach to this problem using the <a href="http://www.modernizr.com/">Modernizer</a> JavaScript library. I wrote some JavaScript to detect if the browser supports the placeholder HTML5 attribute and if it does, then I hide and take the text from the <code>label</code> element and then push the value into the input element's <code>placeholder</code> attribute.<br><br><pre> <br>// if placeholder is supported<br>if ( Modernizr.input.placeholder ) {<br><br>  $( "input" ).each( function(index, element) {<br><br>    var placeholder = <br>      $("label[for=" + element.id + "]")<br>        .hide().text();<br><br>    $(element)<br>      .addClass("ui-input-text-placeholder")<br>      .attr("placeholder", placeholder);<br><br>  });<br><br>}<br></pre><br>You can view a running example of the above code from this <a href="http://jsfiddle.net/elijahmanor/zHbuC/33/light/">jsFiddle</a>. If you are running Google Chrome, then you'll notice the label's are embedded as placeholder's within the input elements, but if you are using Firefox or Internet Explorer 6/7/8 then you'll notice the default label and input technique that is default in most of the jQuery Mobile documentation.<br><br><br><br>I've added some screenshots of the placeholder technique in case you are reading this blog entry in a browser that doesn't support the HTML5 form <code>placeholder</code> attribute.<br><br><a href="http://2.bp.blogspot.com/_L6DiZQsfJzs/TVIBeX2NI2I/AAAAAAAAJW4/qyV8Wsb-aXU/s1600/photo+%25283%2529.PNG" imageanchor="1"><img border="0" height="320" src="http://2.bp.blogspot.com/_L6DiZQsfJzs/TVIBeX2NI2I/AAAAAAAAJW4/qyV8Wsb-aXU/s320/photo+%25283%2529.PNG" width="213"></a><a href="http://3.bp.blogspot.com/_L6DiZQsfJzs/TVIBuRMXj8I/AAAAAAAAJW8/kSvw3ps8t5c/s1600/photo+%25284%2529.PNG" imageanchor="1"><img border="0" height="213" src="http://3.bp.blogspot.com/_L6DiZQsfJzs/TVIBuRMXj8I/AAAAAAAAJW8/kSvw3ps8t5c/s320/photo+%25284%2529.PNG" width="320"></a><br><div></div><br>