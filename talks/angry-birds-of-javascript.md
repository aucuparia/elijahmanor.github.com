<!--

account_name: elijahmanor
account_slug: elijahmanor
account: 51dc7b400a79df571c000003
title: Angry Birds of JavaScript
slug: angry-birds-of-javascript
slideCount: 108
description: "In this Angry Birds session we uncover concepts of modern JavaScript development. Each bird represents an area of JavaScript along with its strengths. Some topics covered include code organization, events and messaging, prototyping and mocking, design patterns, linting, and build systems. The goal is to defeat the pigs and by doing so produce highly tested quality JavaScript code."
createdAt: 2013-11-15T17:30:05.000Z
published: true
private: false
themeVariation: default
theme: basic/2
themeCSS: ".slide-content a { color: #333; } "
themeSettings: 
  color1: "#333"
  color2: "#888"
  color3: "#e5e5e5"
  color4: "#555"
  textColor: "#333"
  textColorAlt: "#e5e5e5"
  pictureFrame: "#ffffff"
  titleFont: ""
  subtitleFont: ""
  bodyFont: ""
slidesOrder: 
  - 52865a1d8e7dc31528000069
  - 52865cd7f5eb7d0d28000087
  - 5286603a8e7dc31528000072
  - 52865ecbd2e6c9092800005a
  - 52865f7099772e1128000069
  - 52865fb28e7dc31528000071
  - 528660d9d2e6c9092800005e
  - 528661178e7dc31528000073
  - 5286613d99772e112800006a
  - 5286617a99772e112800006b
  - 528661bc99772e112800006d
  - 528662e899772e112800006e
  - 52866388f5eb7d0d2800008c
  - 528663ba99772e112800006f
  - 5286645bd2e6c9092800005f
  - 5286647b8e7dc31528000074
  - 528664b199772e1128000070
  - 528664ec8e7dc31528000075
  - 528665138e7dc31528000076
  - 5286653ed2e6c90928000060
  - 528665bb99772e1128000071
  - 52866626f5eb7d0d2800008d
  - 52866756d2e6c90928000061
  - 52866867d2e6c90928000062
  - 528668a0f5eb7d0d2800008e
  - 528669268e7dc31528000077
  - 528669ccd2e6c90928000063
  - 528669eed2e6c90928000064
  - 52866a2cf5eb7d0d2800008f
  - 52866a71f5eb7d0d28000090
  - 52866ab58e7dc31528000078
  - 52866b1ef5eb7d0d28000091
  - 52866ba199772e1128000072
  - 52866c5f8e7dc31528000079
  - 52866ca68e7dc3152800007a
  - 52897180891046cd4300000f
  - 52897234cd2ee4d043000014
  - 5289725f64a701d643000017
  - 5289728e64a701d643000018
  - 528972d4cd2ee4d043000015
  - 528972fbcd2ee4d043000016
  - 52897344891046cd43000010
  - 52897376479b56d343000014
  - 52897399891046cd43000011
  - 5289740464a701d643000019
  - 5289744864a701d64300001a
  - 52897461cd2ee4d043000017
  - 5289749acd2ee4d043000018
  - 52897884479b56d343000015
  - 528978bc64a701d64300001b
  - 528978ff64a701d64300001c
  - 52897952891046cd43000012
  - 528979c7479b56d343000016
  - 528979e4479b56d343000017
  - 52897a87cd2ee4d043000019
  - 52897ba1891046cd43000013
  - 52897bd7cd2ee4d04300001a
  - 52897d1564a701d64300001d
  - 52897d45479b56d343000018
  - 52897d61891046cd43000014
  - 52897d90891046cd43000015
  - 52897db664a701d64300001e
  - 52897dd3479b56d343000019
  - 52897e3f64a701d64300001f
  - 52897e5364a701d643000020
  - 52897e7dcd2ee4d04300001b
  - 52897ee2479b56d34300001a
  - 52897eef64a701d643000021
  - 52897fdc891046cd43000016
  - 5289800f64a701d643000022
  - 52898032479b56d34300001f
  - 52898050479b56d343000020
  - 528981db64a701d643000023
  - 52898204479b56d343000021
  - 5289822f891046cd43000017
  - 5289824fcd2ee4d04300001d
  - 52898277cd2ee4d04300001e
  - 528982a7479b56d343000022
  - 528983f3891046cd43000018
  - 52898428891046cd43000019
  - 52898581479b56d343000023
  - 528985b564a701d643000024
  - 528985f5479b56d343000024
  - 52897f22479b56d34300001b
  - 52897f29cd2ee4d04300001c
  - 528986a4cd2ee4d04300001f
  - 528986ef64a701d643000025
  - 528986bf891046cd4300001a
  - 52898716479b56d343000026
  - 528986cf479b56d343000025
  - 52898730479b56d343000027
  - 5289874a479b56d343000028
  - 5289876e891046cd4300001b
  - 5289877dcd2ee4d043000020
  - 52897f53479b56d34300001c
  - 52897f70479b56d34300001d
  - 52898902479b56d343000029
  - 52898938479b56d34300002a
  - 52898956891046cd4300001e
  - 5289897fcd2ee4d043000021
  - 5289899864a701d643000029
  - 528989bb891046cd4300001f
  - 52898a07891046cd43000020
  - 52898a35cd2ee4d043000022
  - 52898a8964a701d64300002a
  - 52898aba479b56d34300002b
  - 52898ad4cd2ee4d043000023
  - 52897f81479b56d34300001e
  - 52898b5a891046cd43000021
metadata: 
  codeblocks: 
    color_scheme: blackboard
    highlight: "true"
format: markdown
level: ""
topic: 51e99cbe1796892303000006
topic_name: Client-side
topic_slug: clientside


-->

<!--

_id: 52865a1d8e7dc31528000069
master: full
createdAt: 2013-11-15T17:30:05.000Z
updatedAt: 2013-12-20T20:13:56.783Z


-->

# Angry Birds of JavaScript by @elijahmanor

![Alt text](http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/angry-birds-2.png)

-----

<!--

_id: 52865cd7f5eb7d0d28000087
master: full
createdAt: 2013-11-15T17:41:43.000Z
updatedAt: 2013-12-20T20:13:56.783Z


-->

# Who Am I Not?

<img src="http://i.imgur.com/LEGZh.jpg">

-----

<!--

_id: 52865ecbd2e6c9092800005a
master: content
createdAt: 2013-11-15T17:50:03.000Z
updatedAt: 2013-12-20T20:13:56.783Z


-->

# Who Am I?

## Elijah Manor

```javascript
{
    "name": "Elijah Manor",
    "priorities": [ "Christian", "Family", "Work" ],
    "employer": "The Lampo Group (Dave Ramsey)",
    "title": [ "Front-End Web Developer", "Pluralsight Author" ],
    "tech": [ "JavaScript", "jQuery", "HTML5", "CSS3" ],
    "awards": [
        "Microsoft Regional Director",
        "Microsoft ASP.NET MVP",
        "IE userAgent"
    ],
    "blog": "http://elijahmanor.com",
    "email": "elijah.manor@gmail.com",
    "social": [ "@elijahmanor" ]
}
```

-----

<!--

_id: 52865f7099772e1128000069
master: content
createdAt: 2013-11-15T17:52:48.000Z
updatedAt: 2013-12-20T20:13:56.783Z


-->

# Pluralsight Videos

* Fixing Common JavaScript Bugs
* Fixing Common jQuery Bugs
* jQuery Tips and Tricks
* jQuery-free JavaScript
* Testing & Prototyping JavaScript Applications


-----

<!--

_id: 52865fb28e7dc31528000071
master: focus
createdAt: 2013-11-15T17:53:54.000Z
updatedAt: 2013-12-20T20:13:56.783Z


-->

# History

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/angry-birds-history.jpg" style="margin: auto; height: 350px;" />

-----

<!--

_id: 528660d9d2e6c9092800005e
master: focus
createdAt: 2013-11-15T17:58:49.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Sad Birds

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/sad-birds.jpg" style="margin: auto; height: 350px;" />

-----

<!--

_id: 528661178e7dc31528000073
master: focus
createdAt: 2013-11-15T17:59:51.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Happy Birds

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/happy-birds-2.png" style="margin: auto; height: 350px;" />

-----

<!--

_id: 5286613d99772e112800006a
master: focus
createdAt: 2013-11-15T18:00:29.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# What Happened?

## Pesky pigs stole front-end web arch from the birds!

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/bad-piggies.png" style="margin: auto; height: 325px;" />

-----

<!--

_id: 5286617a99772e112800006b
master: focus
createdAt: 2013-11-15T18:01:30.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Super Hero Birds

## Elite group of Angry Birds are going to get it back!

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/super-hero-birds-2.jpg" style="margin: auto; height: 325px;" />

-----

<!--

_id: 528661bc99772e112800006d
master: focus
createdAt: 2013-11-15T18:02:36.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Our Warrior Birds

## Elite group of Angry Birds are going to get it back!

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/angry-birds-group.jpg" style="margin: auto; height: 325px;" />

-----

<!--

_id: 528662e899772e112800006e
master: focus
createdAt: 2013-11-15T18:07:36.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Red Bird

## Attacks with the force of its trusty IIFE

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/red-bird.png" style="margin: auto; height: 325px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52866388f5eb7d0d2800008c
master: focus
createdAt: 2013-11-15T18:10:16.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# What Was Stolen?

## Red Bird

For ages the birds used to litter the global namespace with their custom objects and functions. Over time the birds slowly learned techniques to protect their objects from the global namespace.

-----

<!--

_id: 528663ba99772e112800006f
master: content
createdAt: 2013-11-15T18:11:06.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# How Objects Become Global?

## #1. Declaring an Object in the Window Scope

{{codeblock id:"528bff4b0b1616bf58000007" visible:"1-2,6,8-11"}}


-----

<!--

_id: 5286645bd2e6c9092800005f
master: content
createdAt: 2013-11-15T18:13:47.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# How Objects Become Global?

## #2. Not Declaring an Object in Any Scope

{{codeblock id:"528bff4b0b1616bf58000007" visible:"1-5,7-13" highlight:"3,5,11-13"}}


-----

<!--

_id: 5286647b8e7dc31528000074
master: content
createdAt: 2013-11-15T18:14:19.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# How Objects Become Global?

## #3. Specifically Adding an Object to the Window

{{codeblock id:"528bff4b0b1616bf58000007" visible:"1-14" highlight:"6,14"}}

-----

<!--

_id: 528664b199772e1128000070
master: content
createdAt: 2013-11-15T18:15:13.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Why Are Global Objects a Problem?

1. Conflicts within Your Code
2. Conflicts with Your Code and Third-Party Libraries
3. Conflicts with Your Code and Browser Add-on, Extensions, or Plugins

-----

<!--

_id: 528664ec8e7dc31528000075
master: content
createdAt: 2013-11-15T18:16:12.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Various Ways to Protect Yourself

## Object Literal

```javascript	
// Gather type & attack and make properties off higher level object
var bird = {
    type: "Red",
    attack: function() {
        console.log( this.type + " Bird Attacks!" );
    }
};

console.log( window.bird );          // Only 1 global object!
console.log( window.bird.type );     // Red
window.bird.attack();                // Red Bird Attacks!
```

-----

<!--

_id: 528665138e7dc31528000076
master: content
createdAt: 2013-11-15T18:16:51.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Various Ways to Protect Yourself

## Immediately Invoked Function Expression (IIFE)

```javascript
// JavaScript can parse this just fine now, yay!
(function() {

    // All memory is contained within this scope

}()); // <-- Immediately Invoked
```

-----

<!--

_id: 5286653ed2e6c90928000060
master: content
createdAt: 2013-11-15T18:17:34.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Various Ways to Protect Yourself

## Immediately Invoked Function Expression (IIFE)

```javascript
var bird = (function() { // Revealing Module Pattern
    var type = "Red",
        power = "IIFE",  // This is private
        attack = function() {
            console.log( type + " Bird Attacks with " + power +  "!" );
        };
    
    return { type: type, attack: attack }; // Returning public parts
}());
 
console.log( window.bird );           // Only 1 global object!
console.log( window.bird.type );      // Public property
window.bird.attack();                 // Public method access private
console.log( window.bird.power );     // Private var, can't access
```

-----

<!--

_id: 528665bb99772e1128000071
master: content
createdAt: 2013-11-15T18:19:39.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Various Ways to Protect Yourself

## Immediately Invoked Function Expression (IIFE)

```javascript
(function( bird ) {
    var power = "IIFE"; // This is private

    bird.type = "Red";
    bird.attack = function() {
        console.log( bird.type + " Bird Attacks with " + power + "!" );
    };
}( window.bird = window.bird || {} )); // Passing in namespace


console.log( window.bird );           // Only 1 global object!
console.log( window.bird.type );      // Public property
window.bird.attack();                 // Public method access private
console.log( window.bird.power );     // Private variable can't access

```

-----

<!--

_id: 52866626f5eb7d0d2800008d
master: content
createdAt: 2013-11-15T18:21:26.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Attack the Red Bird!

<iframe width="655" height="425" src="http://jsfiddle.net/hzz3U/1/embedded/result" allowfullscreen="allowfullscreen" frameborder="0" style="display: block; margin: auto;"></iframe>


-----

<!--

_id: 52866756d2e6c90928000061
master: focus
createdAt: 2013-11-15T18:26:30.000Z
updatedAt: 2013-12-20T20:13:56.784Z


-->

# Blue Bird

## Triggers events and messages that scatter to infiltrate the pig's castle

<div style="margin: auto;">
<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/blue-bird-1.png" style="height: 225px; background: transparent; box-shadow: initial; display: inline;" /><img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/blue-bird-1.png" style="height: 225px; background: transparent; box-shadow: initial; display: inline;" /><img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/blue-bird-1.png" style="height: 225px; background: transparent; box-shadow: initial; display: inline;" /><img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/blue-bird-1.png" style="height: 225px; background: transparent; box-shadow: initial; display: inline;" />
</div>

-----

<!--

_id: 52866867d2e6c90928000062
master: focus
createdAt: 2013-11-15T18:31:03.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# What Was Stolen?

The birds used to build their web applications with components having hard dependencies on each-other. They eventually started to learn to reduce tight coupling by introducing events and messages.

-----

<!--

_id: 528668a0f5eb7d0d2800008e
master: content
createdAt: 2013-11-15T18:32:00.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Sample Application

<iframe width="100%" height="450" src="http://jsfiddle.net/xHAp4/3/embedded/result,js,resources,html,css/presentation/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

-----

<!--

_id: 528669268e7dc31528000077
master: content
createdAt: 2013-11-15T18:34:14.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Tightly Coupled Code

```javascript
$( document ).on( "click", ".term", function( e ) {
    $( "input" ).val( $( this ).text() );
    $( "button" ).trigger( "click" );
});
 
$( "button" ).on( "click", function( e ) {
    var searchTerm = $( "input" ).val(),
        url = "http://odata.netflix.com/...?$filter=substringof('" +
            escape( searchTerm ) +
            "',Name)&$callback=callback&$format=json";
 
    $( ".help-block" ).html( function( index, html ) {
        return e.originalEvent ? 
            html + ", " + "<a href='#' class='term'>" +
            searchTerm + "</a>" : html;
    });
 
    $.ajax({
        dataType: "jsonp",
        url: url,
        jsonpCallback: "callback",
        success: function( data ) {
            var rows = [];
            $.each( data.d.results, function( index, result ) {
                var row = "";
                if ( result.Rating && result.ReleaseYear ) {
                    row += "<td>" + result.Name + "</td>";
                    row += "<td>" + result.Rating + "</td>";
                    row += "<td>" + result.ReleaseYear + "</td>";
                    row = "<tr>" + row + "</tr>";
                    rows.push( row );
                }
            });
            $("table").show().find("tbody").html(rows.join(""));
        }
    });
});
```

-----

<!--

_id: 528669ccd2e6c90928000063
master: content
createdAt: 2013-11-15T18:37:00.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Types of Messages

## Observer Events

* You can think of this as adding event handlers to an element
* The element has a direct reference to the callbacks that will be invoked when the event type occurs

-----

<!--

_id: 528669eed2e6c90928000064
master: content
createdAt: 2013-11-15T18:37:34.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Types of Messages

## Observer Events

```javascript
document.getElementById("bird")
    // Native addEventListener attaches observer to the DOM element
    .addEventListener( "click", function() { console.log("Catapult!"); } );
 
$( "#bird" )
    // Old school event helpers attaches observer to the DOM element
    .click(function() { console.log("Flying through the air..."); })
    // Old school bind method attaches observer to the DOM element
    .bind( "click", function() { console.log("COWABUNGA!"); } )
    // New school 2 param on method attaches observer to DOM element
    .on( "click", function() { console.log("Destroy those pigs!"); } );
 
// Event is triggered and the list of observers are notified
$("#bird").trigger("click");
```

-----

<!--

_id: 52866a2cf5eb7d0d2800008f
master: content
createdAt: 2013-11-15T18:38:36.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Types of Messages

## Mediated Events

* There is another entity that keeps track of publishing and subscribing of messages
* Main difference between this and Observer events is that Mediated events aren't tied directly to the subject that invoked it

-----

<!--

_id: 52866a71f5eb7d0d28000090
master: content
createdAt: 2013-11-15T18:39:45.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Types of Messages

## Mediated Events: Using postal.js by Jim Cowart @ifandelse

```javascript
var channel = postal.channel(), $lastUpdated = $( "#lastUpdated" );
 
channel.subscribe( "bird.launch", function( data ) { // Listen to bird.launch
    console.log( "Launch blue birds at " + data.angle + " angle!" );
});
 
channel.subscribe( "bird.reset", function( data ) {  // Listen to bird.reset
    console.log( "Resetting blue birds to the catapult." );
});
 
channel.subscribe( "bird.*", function(data) {        // Listen to all bird.*
    $lastUpdated.text( moment().format("MMMM Do YYYY, h:mm:ss a") ); 
});
 
// Publish some messages with optional data
channel.publish( "bird.launch", { angle: 45 } );
channel.publish( "bird.reset" );
```

-----

<!--

_id: 52866ab58e7dc31528000078
master: focus
createdAt: 2013-11-15T18:40:53.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Which One Do I Use?

## Quote from Jim Cowart

> "...use observer 'locally', inside a component, mediator 'remotely' between components. No matter what, be ready to use both in tandem.'"

-----

<!--

_id: 52866b1ef5eb7d0d28000091
master: content
createdAt: 2013-11-15T18:42:38.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Loosely Coupled Code

```javascript
var channel = postal.channel();
 
$( "button" ).on( "click", function() {
    channel.publish("searchTerm.changed", { 
    	term: $("input").val() 
    });
});
 
channel.subscribe( "searchTerm.changed", function( data ) {
    netflix.getTitles( data.term, function( titles ) {
        channel.publish( "netflix.titles.updated", titles );
    });    
});
 
channel.subscribe( "searchTerm.changed", function( data ) {
    $( ".help-block" ).html( function( index, html ) {
        return ~html.indexOf( data.term ) ? html :
            html + ", " + "<a href='#' class='term'>" + 
            data.term + "</a>";
    });
});
 
channel.subscribe( "netflix.titles.updated", function( titles ) {
    var rows = [];
    $.each( titles, function( index, result ) {
        var row = "";
        if ( result.Rating && result.ReleaseYear ) {
            row += "<td>" + result.Name + "</td>";
            row += "<td>" + result.Rating + "</td>";
            row += "<td>" + result.ReleaseYear + "</td>";
            row = "<tr>" + row + "</tr>";
            rows.push( row );
        }
    });
    $( "table" ).show().find( "tbody" ).html( rows.join( "" ) );
});

$( document ).on( "click", ".term", function( e ) {
    var term = $( this ).text();
    
    e.preventDefault();
    $( "input" ).val( term );
    channel.publish( "searchTerm.changed", { term: term } );
});

window.netflix = {
    getTitles: function( term, callback ) {
        var url = "http://odata.netflix.com/...=substringof('" +
                escape( term ) +
                "',Name)&$callback=callback&$format=json";
      
        $.ajax({
            dataType: "jsonp",
            url: url,
            jsonpCallback: "callback",
            success: function(data) { callback( data.d.results ); }
        });
    }
};
```

-----

<!--

_id: 52866ba199772e1128000072
master: focus
createdAt: 2013-11-15T18:44:49.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Yellow Bird

## Comes with a RequireJS speed booster & dynamically injects scripts against the pesky swine

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/yellow-bird.png" style="margin: auto; height: 275px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52866c5f8e7dc31528000079
master: content
createdAt: 2013-11-15T18:47:59.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# What Was Stolen?

The birds used to manually add script tags to their HTML files. They were introduced to RequireJS which provided them a way to...
* Manage their code into modules
* Load their scripts asynchronously
* Manage their dependencies
* Provide an easy way to optimize

-----

<!--

_id: 52866ca68e7dc3152800007a
master: content
createdAt: 2013-11-15T18:49:10.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Broken Application

```html
<!DOCTYPE html>
<html>
    <head lang="en">
        <link rel="stylesheet" href="./css/style.css">
    </head>
    <body>
        <script src="./libs/jquery.min.js"></script>
        <script src="./libs/postal.min.js"></script>
        <script src="./libs/underscore.min.js"></script>
        <script>
            var channel = postal.channel();
            channel.subscribe( "pig.collide", function() {
                console.log( "Pig Down!" );
            });
            channel.publish( "pig.collide" );
        </script>
    </body>
</html>
```

-----

<!--

_id: 52897180891046cd4300000f
master: focus
createdAt: 2013-11-18T01:46:40.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# WAT!?!

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/yellow-postal-error.png" style="margin: auto; height: 200px; background: transparent; box-shadow: initial;" />

> WHAT!?! Where is the each method!?! Must be a bug in postal.min.js... But, wait!?! Ohh, maybe something else is going on. --Ficticious Internal Dialog

-----

<!--

_id: 52897234cd2ee4d043000014
master: focus
createdAt: 2013-11-18T01:49:40.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# RequireJS Basics


Asynchronous Module Loader and the API it provides allows us to define and require modules.

-----

<!--

_id: 5289725f64a701d643000017
master: content
createdAt: 2013-11-18T01:50:23.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# RequireJS

## Define

```javascript
// File Name: my-first-module.js
 
// The name of module defaults to the name of the file by convention
define( 
    [ "underscore", "jquery" ], // Array of dependencies needed
    function( _, $ ) { // Callback with params matching dependencies
        // Underscore and jQuery have both been loaded and available
        // the `_` & `$` variables
 
        return { // Will be available in callback of required module
            message: "Hello World!"
        };
    }
);

```

-----

<!--

_id: 5289728e64a701d643000018
master: content
createdAt: 2013-11-18T01:51:10.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# RequireJS

## Require

```javascript
require( 
    [ "my-first-module" ],    // Array of dependencies needed
    function( firstModule ) { // Callback w/ params matching deps
        console.log( firstModule.message );
    }
);
```

-----

<!--

_id: 528972d4cd2ee4d043000015
master: content
createdAt: 2013-11-18T01:52:20.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Fixed Application

## Markup

```html
<!DOCTYPE html>
<html>
    <head lang="en">
        <link rel="stylesheet" href="./css/style.css">
    </head>
    <body>
        <!-- 
            You'll notice that the markup is cleaned up dramatically
            The data-main HTML5 attribute defines where to kick 
            things off
        -->
        <script src="./libs/require.min.js" data-main="./js/main"></script>
    </body>
</html>
```

-----

<!--

_id: 528972fbcd2ee4d043000016
master: content
createdAt: 2013-11-18T01:52:59.000Z
updatedAt: 2013-12-20T20:13:56.785Z


-->

# Fixed Application

## Main.js

```javascript
require.config({
    paths: {
        "jquery": "../libs/jquery.min",
        "underscore": "../libs/underscore.min",
        "postal": "../libs/postal.min"
    },
    shim: { underscore: { exports: "_" } } // Underscore.js doesn't know AMD
});

require([ "postal" ], function( postal ) {
    var channel = postal.channel();
    channel.subscribe( "pig.collide", function() { /* ... */ });
    channel.publish( "pig.collide" );
});
```

-----

<!--

_id: 52897344891046cd43000010
master: content
createdAt: 2013-11-18T01:54:12.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# Optimize Application

* RequireJS already keeps a defined list of dependencies
* r.js will take those dependencies and combined & minify our scripts

-----

<!--

_id: 52897376479b56d343000014
master: content
createdAt: 2013-11-18T01:55:02.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# Optimize Application

## r.js

```javascript
({
    appDir: ".",                // The main root URL
    dir: "../dist",             // Directory that we build to
    mainConfigFile: "main.js",  // Location of main.js
    name: "main",               // Name of module that we are loading
    optimizeCss: "standard",    // Standard optimization for CSS
    removeCombined: true,       // Temp combined files will be removed
    paths : {
        "jquery": "libs/jquery.min",
        "underscore": "libs/underscore.min",
        "postal": "libs/postal.min"
    }
})
```

-----

<!--

_id: 52897399891046cd43000011
master: content
createdAt: 2013-11-18T01:55:37.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# Optimize Application

## r.js

```
$ r.js -o build.js
Optimizing (standard) CSS file: C:/Users/Elijah/Desktop/dist/css/style.css
 
Tracing dependencies for: main
Uglifying file: C:/Users/Elijah/Desktop/dist/build.js
Uglifying file: C:/Users/Elijah/Desktop/dist/libs/jquery.min.js
Uglifying file: C:/Users/Elijah/Desktop/dist/libs/postal.min.js
Uglifying file: C:/Users/Elijah/Desktop/dist/libs/require.min.js
Uglifying file: C:/Users/Elijah/Desktop/dist/libs/underscore.min.js
Uglifying file: C:/Users/Elijah/Desktop/dist/main.js
Uglifying file: C:/Users/Elijah/Desktop/dist/r.js
 
css/style.css
----------------
css/style.css
 
C:/Users/Elijah/Desktop/demo/src/main.js
----------------
C:/Users/Elijah/Desktop/demo/src/main.js
```

-----

<!--

_id: 5289740464a701d643000019
master: focus
createdAt: 2013-11-18T01:57:24.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# White Bird

## Appears to be seemingly harmless, but when it pulls out it's strict coding style and bursts of quality checks the hogs are sure to squeal

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/white-bird.png" style="margin: auto; height: 250px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 5289744864a701d64300001a
master: focus
createdAt: 2013-11-18T01:58:32.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# What Was Stolen?

Each bird thought their coding standard was the "right way" and it started to become an issue. One day a wise White Bird came along and suggested that they come up with a common set of coding practices & tools to use.

-----

<!--

_id: 52897461cd2ee4d043000017
master: content
createdAt: 2013-11-18T01:58:57.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# JavaScript Coding Standards

* A developer will be able to make sense of other code more quickly
* Merges in your code repository won't be as awful
* Having a standard will actually reduce defects
* The codebase will feel more unified
* Disagreements about who is "right" will lessen
* ... insert your benefit here ...


-----

<!--

_id: 5289749acd2ee4d043000018
master: content
createdAt: 2013-11-18T01:59:54.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# Which Standard Should I Follow?

* Douglas Crockford's [Code Conventions for the JavaScript Programming Language](http://javascript.crockford.com/code.html)
* Rich Waldron's [Idiomatic.js - Writing Consistent Idiomatic JavaScript](https://github.com/rwldrn/idiomatic.js) **← Recommended**
* [jQuery's JavaScript Style Guide](http://contribute.jquery.org/style-guide/js/?rdfrom=http%3A%2F%2Fdocs.jquery.com%2Fmw%2Findex.php%3Ftitle%3DJQuery_Core_Style_Guidelines%26redirect%3Dno) **← Recommended**
* [Google's JavaScript Style Guide](http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml)
* [JavaScript, the winning style](https://github.com/Seravo/js-winning-style): Compares the above standards looking for similarities 


-----

<!--

_id: 52897884479b56d343000015
master: content
createdAt: 2013-11-18T02:16:36.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# JavaScript Linting

## JSLint, JSHint, or ESLint

* The use of === instead of ==
* Using variables that aren't defined
* Declaring variables that are never used
* Declaring functions inside of loops
* And lots more...

-----

<!--

_id: 528978bc64a701d64300001b
master: content
createdAt: 2013-11-18T02:17:32.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# Recent Additions

## JSHint & ESLint

* **maxcomplexity** - Maximum cyclomatic complexity
* **maxstatements** - Maximum number of statements allowed in a function
* **maxparams** - Maximum number of parameter allowed in a function
* **maxdepth** - Maximum depth allowed in a function
* **maxlen** - Maximum length of line in code

-----

<!--

_id: 528978ff64a701d64300001c
master: content
createdAt: 2013-11-18T02:18:39.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# Sample Code

## JSHint & ESLint

```javascript
/*jshint maxparams:3, maxdepth:2, maxstatements:5, maxcomplexity:3, maxlen:80 */
/*global console:false */
 
(function( undefined ) {
    "use strict";
 
    function test1( arg1, arg2, arg3, arg4 ) {
        console.log( "too many parameters!" );
        if ( arg1 === 1 ) {
            console.log( arg1 );
            if ( arg2 === 2 ) {
                console.log( arg2 );
                if( arg3 === 3 ) {
                    console.log( "too much nesting!" ); console.log( arg3 ); console.log( arg4 );
                }
            }
        }
        console.log( "too many statements!" );
    }
 
    test1( 1, 2, 3, 4 );
}());

```

-----

<!--

_id: 52897952891046cd43000012
master: content
createdAt: 2013-11-18T02:20:02.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# Sample Code

## JSHint & ESLint

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/jshint-errors.png" style="margin: auto; height: 425px; background: transparent; box-shadow: initial;" />


-----

<!--

_id: 528979c7479b56d343000016
master: focus
createdAt: 2013-11-18T02:21:59.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# JavaScript Analysis

## Plato that will analyse your code and provide a visual report where you can view the complexity of your application.

-----

<!--

_id: 528979e4479b56d343000017
master: full
createdAt: 2013-11-18T02:22:28.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# JavaScript Analysis: jQuery

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/jquery-top-level.png" style="margin: auto; height: 300px; background: transparent; box-shadow: initial;" />



-----

<!--

_id: 52897a87cd2ee4d043000019
master: full
createdAt: 2013-11-18T02:25:11.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# JavaScript Analysis: jQuery

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/jquery-drill-complexity.png" style="margin: auto; height: 300px; background: transparent; box-shadow: initial;" />



-----

<!--

_id: 52897ba1891046cd43000013
master: focus
createdAt: 2013-11-18T02:29:53.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# Green Bird

## Can reach all of those hard to reach places and will mock and spy those stealing swine right where it hurts!

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/green-bird.png" style="margin: auto; height: 250px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52897bd7cd2ee4d04300001a
master: focus
createdAt: 2013-11-18T02:30:47.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# What Was Stolen?

## Birds have symbiotic relationship with Water Buffalo. Birds code front-end & buffalo code back-end

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/buffalo-2.jpg" style="margin: auto; height: 275px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52897d1564a701d64300001d
master: focus
createdAt: 2013-11-18T02:36:05.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# The Twitter Application

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/twitter-blue-bird.jpg" style="margin: auto; height: 375px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52897d45479b56d343000018
master: content
createdAt: 2013-11-18T02:36:53.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# The Twitter Application

```javascript
(function( twitter, $, undefined ) {
 
    var channel = twitter.channel = postal.channel(),
        URL_TEMPLATE = "https://api.twitter.com/...timeline/" + 
            "%(userName)s.json?count=%(count)s&include_rts=1",
        $selection = null;
        
    twitter.selector = null;
 
    twitter.init = function( selector ) {
        twitter.selector = selector;
        
        channel.subscribe("tweets.available",
        	twitter.displayTweets);    
    };
    
    twitter.displayTweets = function( tweets ) {
        var $list = $( "<ul/ >" ),
            $location = $selection || $( twitter.selector );
        
        // This would be better suited for a templating engine,
        // but that's for another Angry Bird ;)
        $.each( tweets || {}, function( index, tweet ) {
            var time = moment(tweet.created_at).fromNow(),
                html = "<i>" + time + "</i>: ";

            html += "<b>" + tweet.user.name + "</b> - ";
            html += tweet.text;
            html += tweet.retweeted ?
            	" <i class='icon-repeat'></i>" : "";
            html += tweet.favorited ?
            	" <i class='icon-star'></i>" : "";
            
            $( "<li />", { html: html }).appendTo( $list );         
        });
            
       $location.append( $list.children() );         
    };
    
    twitter.getTweets = function( userName, count ) {
        var url = _.string.sprintf( URL_TEMPLATE, { 
                userName: userName, 
                count: count || 5 
            });
 
        $.ajax({
            url: url,
            dataType: "jsonp",
            success: function( tweets ) {
                channel.publish( "tweets.available", tweets );
            }
        });                
    };
    
}( window.twitter = window.twitter || {}, jQuery ));
 
twitter.init( ".tweets" );
 
$( document ).on( "click", "button", function( e ) {
    var $input = $( this ).closest( "form" ).find( "input" );
    
    e.preventDefault();                                                 
    twitter.getTweets( $input.val() || "elijahmanor" );    
});
```

-----

<!--

_id: 52897d61891046cd43000014
master: full
createdAt: 2013-11-18T02:37:21.000Z
updatedAt: 2013-12-20T20:13:56.786Z


-->

# Real Data from Twitter

![](http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/twitter-raw.png)

-----

<!--

_id: 52897d90891046cd43000015
master: title
createdAt: 2013-11-18T02:38:08.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Introducing Mockjax

## A library to mock jQuery Ajax requests

-----

<!--

_id: 52897db664a701d64300001e
master: content
createdAt: 2013-11-18T02:38:46.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Mocking Static Data

```javascript
$.mockjax({
    url: "https://api.twitter.com/1/statuses/user_timeline/*",
    responseTime: 750,
    responseText: [
        { id: 0, created_at: "Mon Apr 11 8:00:00 2012",
            text: "Test Tweet 1", favorited: false,
            retweeted: false, user: { name: "User 1" } },
        { id: 1, created_at: "Mon Apr 11 9:00:00 2012",
            text: "Test Tweet 2", favorited: true,
            retweeted: true,  user: { name: "User 2" } },
        { id: 2, created_at: "Mon Apr 11 10:00:00 2012",
            text: "Test Tweet 3", favorited: false,
            retweeted: true,  user: { name: "User 3" } },
        { id: 3, created_at: "Mon Apr 11 11:00:00 2012",
            text: "Test Tweet 4", favorited: true,
            retweeted: false, user: { name: "User 4" } },
        { id: 4, created_at: "Mon Apr 11 12:00:00 2012",
            text: "Test Tweet 5", favorited: true,
            retweeted: true,  user: { name: "User 5" } }
    ]
});
```

-----

<!--

_id: 52897dd3479b56d343000019
master: content
createdAt: 2013-11-18T02:39:15.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Ultra-Boring Super-Static Mocked Data :(

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/twitter-mock-static.png" style="margin: auto; height: 425px; background: transparent; box-shadow: initial;" />


-----

<!--

_id: 52897e3f64a701d64300001f
master: title
createdAt: 2013-11-18T02:41:03.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Introducing MockJSON

## A library to generated random data based on a template

-----

<!--

_id: 52897e5364a701d643000020
master: content
createdAt: 2013-11-18T02:41:23.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Mocking Dynamic Semi-Random Data

```javascript
$.mockjax({
    url: "https://api.twitter.com/1/statuses/user_timeline/*",
    responseTime: 750,
    response: function() {
        var data = $.mockJSON.generateFromTemplate({
            "tweets|5-10": [{
                "id|+1": 0, 
                "created_at": "Apr 11 @TIME_HH:@TIME_MM:@TIME_SS",
                "text": "@LOREM_IPSUM",
                "favorited|0-1": false,
                "retweeted|0-1": false,
                "user": { "name": "@MALE_FIRST_NAME @LAST_NAME" }
            }]
        });
        
        this.responseText = data.tweets;
    }
});
```

-----

<!--

_id: 52897e7dcd2ee4d04300001b
master: content
createdAt: 2013-11-18T02:42:05.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Semi-Exciting Somewhat-Random Data ;)

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/twitter-mock-dynamic.png" style="margin: auto; height: 425px; background: transparent; box-shadow: initial;" />


-----

<!--

_id: 52897ee2479b56d34300001a
master: focus
createdAt: 2013-11-18T02:43:46.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Orange Bird

## Starts out small with a simple template, but then expands itself into a DOM blast that will surely send the message that the birds mean business

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/orange-bird.png" style="margin: auto; height: 200px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52897eef64a701d643000021
master: focus
createdAt: 2013-11-18T02:43:59.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# What Was Stolen?

The birds found themselves using string concatenation to build up rich user interfaces, which resulted in a lot of code that was boring and also prone for errors. Thankfully an Orange Bird came along and introduced templating libraries such as Underscore.js and Handlebar.js.

-----

<!--

_id: 52897fdc891046cd43000016
master: content
createdAt: 2013-11-18T02:47:56.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Why Use a Templating Engine?

```javascript
(function( twitter, $, undefined ) { 
    var _selection;
        
    twitter.init = function( $selection ) {
        _selection = $selection;
    };
    
    twitter.displayTweets = function( tweets ) {
        var $list = $( "<ul/ >" );
        
        $.each( tweets || {}, function( index, tweet ) {
            var time = moment( tweet.created_at ).fromNow(),
            	html = "<i>" + time + "</i>: ";
            	
            html += "<b>" + tweet.user.name + "</b> - ";
            html += "<span>" + tweet.text + "</span>";
            html += tweet.retweeted ?
            	" <i class='icon-repeat'></i>" : "";
            html += tweet.favorited ?
            	" <i class='icon-star'></i>" : "";
            
            $( "<li />", { html: html }).appendTo( $list );         
        });
            
       _selection.empty().append( $list.children() );         
    };
}( window.twitter = window.twitter || {}, jQuery ));
```

-----

<!--

_id: 5289800f64a701d643000022
master: content
createdAt: 2013-11-18T02:48:47.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Underscore

## Take 1

```javascript
twitter.displayTweets = function( tweets ) {
    var templateString = $( "#tweets-underscore" ).html(),
        template = _.template( templateString );

   _selection.empty().append( template( { tweets: tweets } ) );
};
```

-----

<!--

_id: 52898032479b56d34300001f
master: content
createdAt: 2013-11-18T02:49:22.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Underscore

## Take 1

```html
<script id="tweets-underscore" type="text/template">
    <ul>
        <% _.each( tweets, function( tweet ) { %>
        <li>
            <i><%= moment( tweet.created_at ).fromNow() %></i>:
            <b><%= tweet.user.name %></b> - 
            <span><%= tweet.text %></span>
            <%if(tweet.retweeted){%><i class="icon-repeat"></i><%}%> 
            <%if(tweet.favorited){%><i class="icon-star"></i><%}%>
        </li>
        <% }); %>
    </ul>
</script>
```

-----

<!--

_id: 52898050479b56d343000020
master: full
createdAt: 2013-11-18T02:49:52.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Underscore: Take 1

## Take 1

![](http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/spiderman.jpg)

<blockquote style="position: absolute; top: 22%; font-size: 3em; left: 24%; margin: auto; text-align: center; color: #ccc; text-shadow: 1px 1px 2px rgba(150, 150, 150, 1)">With great power
comes great responsibility</blockquote>

-----

<!--

_id: 528981db64a701d643000023
master: content
createdAt: 2013-11-18T02:56:27.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Underscore

## Take 2

```javascript
twitter.displayTweets = function( tweets ) {
    var templateString = $( "#tweets-underscore" ).html(),
        template = _.template( templateString );
 
    tweets = _.map( tweets, function( tweet ) {
        tweet.created_at = moment( tweet.created_at ).fromNow();
        return tweet;
    });
 
    _selection.empty().append( template( { tweets: tweets } ) );
};
```

-----

<!--

_id: 52898204479b56d343000021
master: content
createdAt: 2013-11-18T02:57:08.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Underscore

## Take 2

```html
<script id="tweets-underscore" type="text/template">
    <ul>
        <% _.each( tweets, function( tweet ) { %>
        <li>
            <i><%= tweet.created_at %></i>: 
            <b><%= tweet.user.name %></b> - 
            <span><%= tweet.text %></span> 
            <%if(tweet.retweeted){%><i class="icon-repeat"></i><%}%> 
            <%if(tweet.favorited){%><i class="icon-star"></i><%}%>
        </li>
        <% }); %>
    </ul>
</script>
```

-----

<!--

_id: 5289822f891046cd43000017
master: content
createdAt: 2013-11-18T02:57:51.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Why Use Underscore.js

## Pros

* You can stick arbitrary JavaScript in the template
* It is very small
* If you are already using Backbone.js then you have it
* If you are already using Underscore.js then you have it
* You can Compile the Templates
* Can Run on the Client and the Server

-----

<!--

_id: 5289824fcd2ee4d04300001d
master: content
createdAt: 2013-11-18T02:58:23.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Why Use Underscore.js

## Cons

* You can stick arbitrary JavaScript in the template
* Doesn't have the concept of this in templates

-----

<!--

_id: 52898277cd2ee4d04300001e
master: content
createdAt: 2013-11-18T02:59:03.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Handlebar.js

```javascript
twitter.init = function( $selection ) {
    _selection = $selection;
    
    Handlebars.registerHelper( "fromNow", function( time ) {
        return moment( time ).fromNow();
    });
};
 
twitter.displayTweets = function( tweets ) {
    var templateString = $( "#tweets-handlebars" ).html(),
        template = Handlebars.compile( templateString );
                        
    _selection.empty().append( template( tweets ) );         
};
```

-----

<!--

_id: 528982a7479b56d343000022
master: content
createdAt: 2013-11-18T02:59:51.000Z
updatedAt: 2013-12-20T20:13:56.787Z


-->

# Handlebar.js

```html
<script id="tweets-handlebars" type="text/x-handlebars-template">
    <ul>
        {{#each this}}
        <li>
            <i>{{fromNow this.created_at}}</i>: 
            <b>{{this.user.name}}</b> - 
            <span>{{this.text}}</span> 
            {{#if this.retweeted}}<i class="icon-repeat"></i>{{/if}} 
            {{#if this.favorited}}<i class="icon-star"></i>{{/if}}
        </li>
        {{/each}}
    </ul>
</script>
```

-----

<!--

_id: 528983f3891046cd43000018
master: content
createdAt: 2013-11-18T03:05:23.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Precompiling Your Templats

* Compile the template on the server and include that on the front-end
* Reduce that amount of work needed on the front-end
* There is a trimmed down version of the handlebars runtime that you can use that has only the parts necessary needed to execute a template

-----

<!--

_id: 52898428891046cd43000019
master: content
createdAt: 2013-11-18T03:06:16.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Precompiling Your Templates


* Compile the template on the server and include that on the front-end
* Reduce that amount of work needed on the front-end
* There is a trimmed down version of the handlebars runtime that you can use that has only the parts necessary needed to execute a template
<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/batman-unicorn-dolphins.jpg" style="position: relative; top: -400px; margin: auto; height: 500px; background: transparent; box-shadow: initial;" />
<blockquote style="position: absolute; top: 365px; color: red;">"It's just about as cool as Batman riding on a Rainbow Unicorn alongside dolphins!"</blockquote>

-----

<!--

_id: 52898581479b56d343000023
master: content
createdAt: 2013-11-18T03:12:01.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Why Use Handlebar.js

## Pros

* It's a Logic-less Template Engine
* You can Precompile Templates on the Server
* Supports Helper methods
* Can Run on the Client and the Server
* Supports the concept of this in templates
It is a superset of Mustache.js

-----

<!--

_id: 528985b564a701d643000024
master: content
createdAt: 2013-11-18T03:12:53.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Why Use Handlebar.js

## Cons

* It might be slow???
* Can you think of any?

-----

<!--

_id: 528985f5479b56d343000024
master: content
createdAt: 2013-11-18T03:13:57.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# What about Other Templating Engines?

## [http://manor.im/etm-template-chooser](http://manor.im/etm-template-chooser) By Garann Means

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/template-chooser.png" style="margin: auto; height: 425px; background: transparent; box-shadow: initial;" />



-----

<!--

_id: 52897f22479b56d34300001b
master: focus
createdAt: 2013-11-18T02:44:50.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Big Brother Bird

## Pulls out the big guns with his finite state machine and other proven design patterns of destruction

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/big-brother-bird.png" style="margin: auto; height: 250px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52897f29cd2ee4d04300001c
master: focus
createdAt: 2013-11-18T02:44:57.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# What Was Stolen?

## The birds knew how to program, but they never had a common nomenclature that they all understood. Big Brother Bird came along and documented a set of common Design Patterns in a book lovingly known as the Gang of Fowl

-----

<!--

_id: 528986a4cd2ee4d04300001f
master: focus
createdAt: 2013-11-18T03:16:52.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Gang of Fowl

## Factory

> A factory is a way to create new objects without actually using the new keyword. The idea is that there is something abstracted away from you in the factory method. 

-----

<!--

_id: 528986ef64a701d643000025
master: content
createdAt: 2013-11-18T03:18:07.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Gang of Fowl

## Factory

```javascript
var Bird = function() {};
Bird.factory = function( type ) {
    var bird;
    if ( typeof Bird[ type ] === "function" ) {
        bird = new Bird[ type ]();
    }
    return bird;
};
 
Bird.Red = function() {};
Bird.Blue = function() {};
 
var redBird = Bird.factory( "Red" );
var blueBird = Bird.factor( "Blue" );

```

-----

<!--

_id: 528986bf891046cd4300001a
master: focus
createdAt: 2013-11-18T03:17:19.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Gang of Fowl

## Facade

> A facade is common place in front-end web development since there is so much cross-browser inconsistencies. A facade brings a common API to something that could vary under the covers.

-----

<!--

_id: 52898716479b56d343000026
master: content
createdAt: 2013-11-18T03:18:46.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Gang of Fowl

## Facade

```javascript
var addEvent = function( element, type, eventHandler ) {
    if ( element.addEventListener ) {
        element.addEventListener( type, eventHandler, false );
    } else if ( elemement.attachEvent ) {
        element.attachEvent( "on" + type, eventHandler );    
    }
};
```

-----

<!--

_id: 528986cf479b56d343000025
master: focus
createdAt: 2013-11-18T03:17:35.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Gang of Fowl

## Adapter

> An adapter is a nice way to massage one piece of code to work with another piece of code. This can be useful when you need to switch to another library, but can't afford to rewrite much of your code. 

-----

<!--

_id: 52898730479b56d343000027
master: content
createdAt: 2013-11-18T03:19:12.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Gang of Fowl

## Adapter

```javascript
/*!
 * jquery-win8-deferred - jQuery $.when works w/ WinJS.promise
 * version: 0.1
 * author: appendTo, LLC
 * copyright: 2012
 * license: MIT (http://www.opensource.org/licenses/mit-license)
 * date: Thu, 01 Nov 2012 07:38:13 GMT
 */
 (function () {
    var $when = $.when;
    $.when = function () {
        var args = Array.prototype.slice.call(arguments);
 
        args = $.map(args, function (arg) {
            if (arg instanceof WinJS.Promise) {
                arg = $.Deferred(function (dfd) {
                    arg.then(
                        function complete() {
                            dfd.resolveWith(this, arguments);
                        }, function error() {
                            dfd.rejectWith(this, arguments);
                        }, function progress() {
                            dfd.notifyWith(this, arguments);
                        }
                    );
                }).promise();
            }
 
            return arg;
        });
 
        return $when.apply(this, args);
    };
}());
```

-----

<!--

_id: 5289874a479b56d343000028
master: content
createdAt: 2013-11-18T03:19:38.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Patterns

## Chaining

```javascript
var bird = {
    catapult: function() {
        console.log( "Yippeeeeee!" );
        return this;
    },
    destroy: function() {
        console.log( "That'll teach you... you dirty pig!" );
        return this;
    }
};
 
bird.catapult().destroy();
```

-----

<!--

_id: 5289876e891046cd4300001b
master: title
createdAt: 2013-11-18T03:20:14.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Recommendation

## In addition to learning these patterns I would recommend that you pick one of your favorite libraries and start to source dive into their repository.

-----

<!--

_id: 5289877dcd2ee4d043000020
master: content
createdAt: 2013-11-18T03:20:29.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Additional Resources

* [JavaScript Design Patterns](http://www.joezimjs.com/javascript/javascript-design-patterns-singleton/) by Joe Zim ([@JoeZimJS](http://twitter.com/JoeZimJS))
* [Understanding Design Patterns](http://net.tutsplus.com/tutorials/javascript-ajax/digging-into-design-patterns-in-javascript/) in JavaScript by Tilo Mitra ([@tilomitra](http://twitter.com/tilomitra))
* [Learning JavaScript Design](http://addyosmani.com/resources/essentialjsdesignpatterns/book/) Patterns by Addy Osmani ([@addyosmani](http://twitter.com/addyosmani))
* [JS Patterns](http://shichuan.github.io/javascript-patterns/) by Shi Chuan ([@shichuan](http://twitter.com/shichuan))
* [JavaScript Patterns](http://shop.oreilly.com/product/9780596806767.do) by Stoyan Stefanov ([@stoyanstefanov](https://twitter.com/stoyanstefanov))
* [JavaScript: The Good Parts](http://shop.oreilly.com/product/9780596517748.do) by Douglas Crockford

-----

<!--

_id: 52897f53479b56d34300001c
master: focus
createdAt: 2013-11-18T02:45:39.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Mighty Eagle

## Uses most superior weapon of them all, a suite of tools that can organize & deploy all the other birds into battle against their soon to be vanquished foe

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/mighty-eagle.png" style="margin: auto; height: 250px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52897f70479b56d34300001d
master: focus
createdAt: 2013-11-18T02:46:08.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# What Was Stolen?

## Over time the birds picked up RequireJS (Yellow Bird), JSHint (White Bird), Plato, Mustache (Orange Bird), and a bunch of other great tools, but all of them required a command line task to complete. The Mighty Eagle introduced some tools to make things a little bit easier.

-----

<!--

_id: 52898902479b56d343000029
master: focus
createdAt: 2013-11-18T03:26:58.000Z
updatedAt: 2013-12-20T20:13:56.788Z


-->

# Grunt

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/grunt.png" style="margin: auto; height: 350px; background: transparent; box-shadow: initial;" />


-----

<!--

_id: 52898938479b56d34300002a
master: content
createdAt: 2013-11-18T03:27:52.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Grunt Basics

Once you've installed grunt you'll need 2 main things for each of your projects

1. package.json - Describes your project's name, version, and any dependencies it might have such as grunt and any grunt plugins

2. Gruntfile.js - JavaScript build file describing tasks

-----

<!--

_id: 52898956891046cd4300001e
master: content
createdAt: 2013-11-18T03:28:22.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Grunt Basics

## Package.js

```javascript
{
  "name": "my-project-name",
  "version": "0.1.0",
  "devDependencies": {
    "grunt": "~0.4.1",
    "grunt-contrib-jshint": "~0.1.1",
    "grunt-contrib-nodeunit": "~0.1.2"
  }
}
```

-----

<!--

_id: 5289897fcd2ee4d043000021
master: content
createdAt: 2013-11-18T03:29:03.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Grunt Basics

## Gruntfile.js

```javascript
module.exports = function(grunt) {
    grunt.initConfig({
        pkg: grunt.file.readJSON('package.json'),
        uglify: {
            options: {
                banner: '/*! <%= grunt.template.today("yyyy-mm-dd") %> */\n'
            },
            build: {
                src: 'src/<%= pkg.name %>.js',
                dest: 'build/<%= pkg.name %>.min.js'
            }
        }
    });

    grunt.loadNpmTasks('grunt-contrib-uglify');
    grunt.registerTask('default', ['uglify']);
};}
```

-----

<!--

_id: 5289899864a701d643000029
master: content
createdAt: 2013-11-18T03:29:28.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Grunt Basics

## Plugins

* contrib-coffee - Compile CoffeeScript files into JavaScript
* contrib-csslint - Lints your CSS files
* contrib-handlebars - Precompiles your Handlebar tempaltes
* contrib-imagemin - Minify PNG and JPEG images
* contrib-jshint - Validate files with JSHint
* contrib-watch - Run predefined tasks when files change
* contrib-requirejs - Optimize RequireJS projects using r.js
* ... more ...

-----

<!--

_id: 528989bb891046cd4300001f
master: full
createdAt: 2013-11-18T03:30:03.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Grunt Examples: jQuery

## jQuery

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/grunt-jquery.png" style="margin: auto; height: 425px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52898a07891046cd43000020
master: content
createdAt: 2013-11-18T03:31:19.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Grunt Examples

## Modernizr

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/grunt-modernizr.png" style="margin: auto; height: 425px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52898a35cd2ee4d043000022
master: focus
createdAt: 2013-11-18T03:32:05.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Bower

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/bower.png" style="margin: auto; height: 350px; background: transparent; box-shadow: initial;" />


-----

<!--

_id: 52898a8964a701d64300002a
master: full
createdAt: 2013-11-18T03:33:29.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Bower: Install jQuery

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/bower-install-jquery.png" style="margin: auto; height: 425px; background: transparent; box-shadow: initial;" />


-----

<!--

_id: 52898aba479b56d34300002b
master: focus
createdAt: 2013-11-18T03:34:18.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Yeoman

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/yeoman.png" style="margin: auto; height: 350px; background: transparent; box-shadow: initial;" />


-----

<!--

_id: 52898ad4cd2ee4d043000023
master: content
createdAt: 2013-11-18T03:34:44.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Yeoman: Install Webapp

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/yo-webapp.png" style="margin: auto; height: 500px; background: transparent; box-shadow: initial;" />


-----

<!--

_id: 52897f81479b56d34300001e
master: full
createdAt: 2013-11-18T02:46:25.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Victory

<img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/angry-birds-victory.jpg" style="margin: auto; height: 250px; background: transparent; box-shadow: initial;" />

-----

<!--

_id: 52898b5a891046cd43000021
master: focus
createdAt: 2013-11-18T03:36:58.000Z
updatedAt: 2013-12-20T20:13:56.789Z


-->

# Questions?

<pre style="text-align: left; font-size: 1em; margin-top: -40px;"><a href="http://elijahmanor.com]" style="margin-left: 260px; border-bottom: none;">http://elijahmanor.com</a>
      <a href="http://twitter.com/elijahmanor" style="margin-left: 260px; border-bottom: none;">@elijahmanor</a>
       <a href="mailto:elijahmanor@gmail.com" style="margin-left: 260px; border-bottom: none;border-bottom: none;">elijahmanor@gmail.com</a></pre><img src="http://elijahmanor.github.io/talks/angry-birds-javascript-fluent/img/injured-angry-birds.jpg" style="margin: auto; height: 180px; background: transparent; box-shadow: initial;" />
<div style="position: absolute; top: 150px; right: 50px; width: 300px; text-align: left;">Slides can be found at **<a href="http://manor.im/angry-birds-js">http://manor.im/angry-birds-js</a>**</div>
<div style="position: absolute; top: 150px; left: 45px; width: 300px; text-align: right;">**DISCLAIMER**: _No birds were hurt during this presentation..._</div>
